"use strict";function p(e,t){var r,o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return i=e.done,e},e:function(e){s=!0,n=e},f:function(){try{i||null==o.return||o.return()}finally{if(s)throw n}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}for(var b=/^((([0-9A-Za-z]{1}[\x2D\.0-9A-z]+[0-9A-Za-z]{1})|([0-9\u0410-\u044F]{1}[\x2D\.0-9\u0410-\u044F]+[0-9\u0410-\u044F]{1}))@([\x2DA-Za-z]+\.){1,2}[\x2DA-Za-z]{2,})$/,h=document.querySelector("body"),e=document.querySelectorAll(".header__item"),d=document.querySelector(".header__item_active"),u=document.querySelector(".menu-wrapper"),m=document.querySelector(".open-menu-wrapper"),_=document.querySelector(".menu-wrapper__close"),f=document.querySelectorAll(".register-button"),v=document.querySelectorAll(".sign-in-button"),y=document.querySelector(".footer__button"),L=document.querySelectorAll(".form"),S=document.querySelector(".sign-in"),q=document.querySelector(".register"),g=document.querySelector(".send-message"),A=document.querySelector(".slider__wrapper"),r=document.querySelector(".slider__inner-wrapper"),w=document.querySelectorAll(".slider__slide"),k=document.querySelector(".slider__pagination"),x=document.querySelectorAll(".portfolio__slide img"),o=document.querySelector(".slider__prev"),n=document.querySelector(".slider__next"),i=r.children.length,s=+getComputedStyle(A).width.split("px")[0],l=0,E=function(){var e=document.querySelectorAll(".header button"),t=document.querySelectorAll(".menu-wrapper button"),r=document.querySelector(".profile-link"),o=document.querySelector(".menu-link");if(localStorage.getItem("token")&&localStorage.getItem("userId")){var n,i=p(e);try{for(i.s();!(n=i.n()).done;)n.value.classList.add("header__item_hide")}catch(e){i.e(e)}finally{i.f()}var s,l=p(t);try{for(l.s();!(s=l.n()).done;)s.value.classList.add("menu-wrapper__link_hide")}catch(e){l.e(e)}finally{l.f()}r.classList.remove("header__item_hide"),o.classList.remove("menu-wrapper__link_hide")}else{var d,a=p(e);try{for(a.s();!(d=a.n()).done;)d.value.classList.remove("header__item_hide")}catch(e){a.e(e)}finally{a.f()}var u,c=p(t);try{for(c.s();!(u=c.n()).done;)u.value.classList.remove("menu-wrapper__link_hide")}catch(e){c.e(e)}finally{c.f()}r.classList.add("header__item_hide"),o.classList.add("menu-wrapper__link_hide")}},I=(new Swiper(".swiper",{direction:"horizontal",loop:!1,allowTouchMove:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),function(){var e,t=p(w);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.style.width="".concat(s,"px"),r.querySelector("img").style.width="".concat(s,"px")}}catch(e){t.e(e)}finally{t.f()}var o,n=p(x);try{for(n.s();!(o=n.n()).done;)o.value.style.width="".concat(s,"px")}catch(e){n.e(e)}finally{n.f()}}),T=function(e){var t=document.querySelector(".slider__dot_active");switch(e){case"next":++l==i-1&&n.setAttribute("disabled",!0),0<l&&o.removeAttribute("disabled"),r.style.marginLeft="-".concat(l*s,"px"),t.classList.remove("slider__dot_active"),k.children[l].classList.add("slider__dot_active");break;case"prev":1==l&&o.setAttribute("disabled",!0),--l<i-1&&n.removeAttribute("disabled"),r.style.marginLeft="-".concat(l*s,"px"),t.classList.remove("slider__dot_active"),k.children[l].classList.add("slider__dot_active")}},j=function(e,t,r){var o=document.createElement("div");"error"==r?o.classList.add("form__error"):"ok"==r&&o.classList.add("form__ok"),o.innerText=e,t.insertAdjacentElement("beforeend",o)},z=0;z<i;z++)!function(e){var t=document.createElement("button");t.classList.add("slider__dot"),e==l&&t.classList.add("slider__dot_active"),t.addEventListener("click",function(){r.style.marginLeft="-".concat(e*s,"px"),document.querySelector(".slider__dot_active").classList.remove("slider__dot_active"),t.classList.add("slider__dot_active"),(l=e)==i-1&&n.setAttribute("disabled",!0),0==l&&o.setAttribute("disabled",!0),0<l&&o.removeAttribute("disabled"),l<i-1&&n.removeAttribute("disabled")}),k.insertAdjacentElement("beforeend",t)}(z);0==l&&o.setAttribute("disabled",!0),l==i-1&&n.setAttribute("disabled",!0),I(),E();var O,t=p(e);try{for(t.s();!(O=t.n()).done;){var C=O.value;C!=d&&(C.addEventListener("mouseenter",function(){d.style.color="#828282"}),C.addEventListener("mouseleave",function(){d.style.color="#070707"}))}}catch(e){t.e(e)}finally{t.f()}n.addEventListener("click",function(){T("next")}),o.addEventListener("click",function(){T("prev")}),m.addEventListener("click",function(){u.classList.remove("menu-wrapper_close"),h.style.overflow="hidden"}),_.addEventListener("click",function(){u.classList.add("menu-wrapper_close"),h.style.overflow="auto"});var D,a=p(v);try{for(a.s();!(D=a.n()).done;)D.value.addEventListener("click",function(){S.classList.remove("form_close"),h.style.overflow="hidden"})}catch(e){a.e(e)}finally{a.f()}var Z,F=p(f);try{for(F.s();!(Z=F.n()).done;)Z.value.addEventListener("click",function(){q.classList.remove("form_close"),h.style.overflow="hidden"})}catch(e){F.e(e)}finally{F.f()}y.addEventListener("click",function(){g.classList.remove("form_close"),h.style.overflow="hidden"});var P,J=p(L);try{for(J.s();!(P=J.n()).done;)!function(){var e,v=P.value,y=v.querySelector(".form__main"),t=y.querySelector(".form__checkbox-label");y.querySelector(".form__close").addEventListener("click",function(){v.classList.add("form_close"),h.style.overflow="auto"}),t&&(e=y.querySelector(".form__submit"),t.addEventListener("click",function(){e.hasAttribute("disabled")?(e.removeAttribute("disabled"),e.classList.remove("form__submit_dis"),e.classList.add("form__submit_active")):(e.setAttribute("disabled",!0),e.classList.add("form__submit_dis"),e.classList.remove("form__submit_active"))})),y.addEventListener("submit",function(e){e.preventDefault();var d,n=y.querySelector(".form__submit"),t=!1,r=p(y.querySelectorAll(".form__item"));try{for(r.s();!(d=r.n()).done;){var o=d.value,i=o.querySelector(".form__input"),s=o.querySelector(".form__error"),u=b.test(i.value);i.classList.contains("form__input_required")&&""==i.value&&!s&&"email"!=i.name?(j("This field is required",o,"error"),i.classList.add("form__input_empty"),n.classList.add("form__submit_error"),t=!0):u||"email"!=i.name||!i.classList.contains("form__input_required")||s?(s&&""!=i.value&&"email"!=i.name||s&&u)&&(s.remove(),i.classList.remove("form__input_empty")):(j('Please enter a valid email address (your entry is not in the format "somebody@example.com")',o,"error"),i.classList.add("form__input_empty"),n.classList.add("form__submit_error")),s=o.querySelector(".form__error"),i.classList.contains("form__input_required")&&s&&(t=!0)}}catch(e){r.e(e)}finally{r.f()}if(t||n.classList.remove("form__submit_error"),!n.classList.contains("form__submit_error")){var m,e={},l={},a="/users",_="",c=p(y.querySelectorAll(".form__input"));try{for(c.s();!(m=c.n()).done;){var f=m.value;l[f.name]=f.value}}catch(e){c.e(e)}finally{c.f()}v.classList.contains("sign-in")?(_="login",a="/users/login",e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}):v.classList.contains("register")&&(_="register",a="/users",e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),v.classList.contains("send-message"),fetch("".concat("https://academy.directlinedev.com/api").concat(a),e).then(function(e){return e.json()}).then(function(e){var t,e=e.data,r=("login"===_?(localStorage.setItem("token","".concat(e.token)),localStorage.setItem("userId","".concat(e.userId)),E()):console.log("OK"),p(y.querySelectorAll(".form__item")));try{for(r.s();!(t=r.n()).done;){var o=t.value;j("All right",o,"ok"),o.querySelector("input").classList.add("form__input_ok")}}catch(e){r.e(e)}finally{r.f()}n.classList.add("form__submit_ok"),setTimeout(function(){v.classList.add("form_close");var e,t=p(y.querySelectorAll(".form__item"));try{for(t.s();!(e=t.n()).done;){var r=e.value;r.querySelector(".form__ok").remove(),r.querySelector("input").classList.remove("form__input_ok")}}catch(e){t.e(e)}finally{t.f()}n.classList.remove("form__submit_ok"),h.style.overflow="auto"},2e3)}).catch(function(e){console.log(e)})}})}()}catch(e){J.e(e)}finally{J.f()}window.addEventListener("resize",function(){s=+getComputedStyle(A).width.split("px")[0],I()});